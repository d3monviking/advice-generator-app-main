<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  
  <title>Frontend Mentor | Advice generator app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  
  <div class="container">

    <div class="title">
      ADVICE #117
    </div> 

    <div class="quote">
      "It is easy to sit up and take notice, what's difficult is getting up and taking action."
    </div>
    
    <div class="divider">
      <img src="/images/pattern-divider-desktop.svg" alt="divider">
    </div> 
    
    <div class="icon">
      <img src="images/icon-dice.svg" alt="icon" class = "dice">
    </div>
  </div>

  <script>
    let btn = document.querySelector(".icon");
    let idNum = document.querySelector('.title');
    let quote = document.querySelector('.quote');

    const url = "https://api.adviceslip.com/advice";

    async function newAdvice(){
      const response = await fetch(url);
      var data = await response.json();
      console.log(data);
      var arrAd = data.slip.advice.split(" ");
      if (arrAd.length < 20) {
      idNum.innerHTML = "ADVICE #" + data.slip.id;
      quote.innerHTML = "\"" + data.slip.advice + "\"";
      }
      else {
        newAdvice();
      }
    }

    btn.addEventListener("click", ()=> {
      newAdvice();
    })

  </script>
</body>
</html>